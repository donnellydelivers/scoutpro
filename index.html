<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ScoutPro AI ‚Äî FBA Only (Scanner Locked)</title>
<style>
  body { font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif; margin:0; background:#0a0e1a; color:#fff; }
  header { padding:12px; border-bottom:1px solid #333; background:#0e1426; }
  h1 { font-size:18px; margin:0 0 8px 0; }
  input { width:100%; font-size:18px; padding:14px; background:#141b2d; color:#fff;
          border:1px solid #333; border-radius:10px; }
  main { padding:14px; }
  .card { background:#111a33; border:1px solid #2a355a; border-radius:14px; padding:14px; margin-bottom:12px; }
  .score { font-size:32px; font-weight:700; }
  .verdict { font-size:18px; margin-top:6px; }
  .reasons { font-size:14px; line-height:1.4; margin-top:8px; }
  .tag { display:inline-block; padding:4px 8px; border-radius:999px; font-size:12px; margin-right:6px; }
  .strong { background:#0f5132; }
  .buy { background:#1e7e34; }
  .borderline { background:#856404; }
  .reject { background:#842029; }
  footer { padding:10px; font-size:12px; color:#aaa; text-align:center; }
</style>
</head>
<body>

<header>
  <h1>ScoutPro AI ‚Äî FBA Only</h1>
  <input id="scanInput" type="text" placeholder="Scan ISBN or SKU" autocomplete="off">
</header>

<main>
  <div id="status" class="card">
    <div>Ready to scan.</div>
  </div>

  <div id="result" class="card" style="display:none">
    <div class="score" id="score">‚Äî</div>
    <div class="verdict" id="verdict">‚Äî</div>
    <div class="reasons" id="reasons"></div>
  </div>
</main>

<footer>
  Scanner locked ‚Ä¢ FBA-only mode ‚Ä¢ ScoutPro AI
</footer>

<script>
/*
====================================================
 SCOUTPRO SCANNER ‚Äî CANONICAL, KNOWN-GOOD (LOCKED)
 DO NOT MODIFY WITHOUT BREAKING SCANS
====================================================
*/
const scanInput = document.getElementById('scanInput');
let __scanBuffer = '';
let __scanTimer = null;

function onScanComplete(code) {
  document.getElementById('status').textContent = 'Processing: ' + code;
  runScoutProAnalysis(code);
}

scanInput.addEventListener('keydown', (e) => {
  if (__scanTimer) clearTimeout(__scanTimer);

  if (e.key === 'Enter') {
    e.preventDefault();
    if (__scanBuffer.length >= 10) onScanComplete(__scanBuffer);
    __scanBuffer = '';
    scanInput.value = '';
    return;
  }

  if (e.key.length === 1) {
    __scanBuffer += e.key;
    __scanTimer = setTimeout(() => {
      if (__scanBuffer.length >= 10) onScanComplete(__scanBuffer);
      __scanBuffer = '';
      scanInput.value = '';
    }, 50);
  }
});

scanInput.focus();

/* ==================================================
   SCOUTPRO CORE (SIMPLIFIED PLACEHOLDER)
   Replace pricing + Keepa calls with your engine
================================================== */

function runScoutProAnalysis(identifier) {
  // --- MOCK DATA for now ---
  const score = Math.floor(50 + Math.random() * 40);
  const verdictData = getVerdict(score);

  document.getElementById('result').style.display = 'block';
  document.getElementById('score').textContent = score;
  document.getElementById('verdict').innerHTML =
    '<span class="tag ' + verdictData.cls + '">' + verdictData.icon + ' ' + verdictData.label + '</span>';

  document.getElementById('reasons').innerHTML = [
    'Sales velocity present',
    'Profit meets FBA floor',
    'Buy Box competitive'
  ].map(r => '‚Ä¢ ' + r).join('<br>');
}

function getVerdict(score) {
  if (score >= 85) return { label:'STRONG BUY', icon:'üî•', cls:'strong' };
  if (score >= 70) return { label:'BUY', icon:'‚úÖ', cls:'buy' };
  if (score >= 55) return { label:'BORDERLINE BUY', icon:'‚ö†Ô∏è', cls:'borderline' };
  return { label:'REJECT', icon:'‚õî', cls:'reject' };
}
</script>

</body>
</html>
