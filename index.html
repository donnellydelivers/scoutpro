<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>ScoutPro Radar</title>

<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;600;700&family=DM+Mono&display=swap" rel="stylesheet">

<style>
:root{
--bg:#07090f;
--card:#141824;
--soft:#1b2030;
--border:rgba(255,255,255,.12);
--text:#f4f6fb;
--muted:#9aa4bb;
--green:#00d68f;
--greenBg:rgba(0,214,143,.25);
--blue:#5aa9ff;
--blueBg:rgba(90,169,255,.25);
--red:#ff6b6b;
--redBg:rgba(255,107,107,.25);
}
*{box-sizing:border-box}
body{
margin:0;
background:#05070c;
color:var(--text);
font-family:'DM Sans',sans-serif;
}
.app{
max-width:440px;
margin:auto;
padding-bottom:32px;
}
header{
padding:14px 16px 8px;
}
h1{
margin:0;
font-size:20px;
}
.sub{
font-size:11px;
color:var(--muted);
}

/* CARD */
.card{
margin:12px;
background:var(--card);
border-radius:18px;
border:1px solid var(--border);
overflow:hidden;
}

/* BANNER */
.banner{
padding:14px;
border-bottom:1px solid var(--border);
}
.banner.buy{background:linear-gradient(135deg,var(--greenBg),#111)}
.banner.check{background:linear-gradient(135deg,var(--blueBg),#111)}
.banner.pass{background:linear-gradient(135deg,var(--redBg),#111)}

.decision{
font-size:22px;
font-weight:700;
letter-spacing:.04em;
}
.decision.buy{color:var(--green)}
.decision.check{color:var(--blue)}
.decision.pass{color:var(--red)}

.basis{
font-size:12px;
margin-top:4px;
color:var(--muted);
}

/* BLOCKS */
.block{
padding:12px 14px;
border-top:1px solid var(--border);
}

.row{
display:flex;
justify-content:space-between;
align-items:center;
margin-bottom:6px;
}
.label{
font-size:12px;
color:var(--muted);
}
.value{
font-family:'DM Mono',monospace;
font-size:16px;
}

/* CONTROLS */
.control{
background:var(--soft);
padding:10px;
border-radius:12px;
margin-top:8px;
}
input[type=range]{
width:100%;
margin-top:6px;
}
input[type=number]{
width:90px;
padding:6px;
border-radius:8px;
border:1px solid var(--border);
background:#05070c;
color:var(--text);
}
.control-row{
display:flex;
justify-content:space-between;
align-items:center;
font-size:12px;
color:var(--muted);
margin-bottom:4px;
}
</style>
</head>

<body>
<div class="app">

<header>
<h1>ScoutPro Radar</h1>
<div class="sub">Scan → Decide → Act</div>
</header>

<div class="card">

<!-- DECISION BANNER -->
<div id="banner" class="banner buy">
<div id="decision" class="decision buy">BUY NOW</div>
<div id="basis" class="basis">Based on Used FBM (current)</div>
</div>

<!-- PRICE OUTPUT -->
<div class="block">
<div class="row">
<span class="label">Sell FBA for</span>
<span class="value" id="sellPrice">$19.99</span>
</div>
<div class="row">
<span class="label">Expected profit</span>
<span class="value" id="profit">+$10.69</span>
</div>
<div class="row">
<span class="label">Likely ROI</span>
<span class="value" id="roi">117%</span>
</div>
</div>

<!-- BUY COST CONTROL -->
<div class="block">
<div class="control-row">
<span>Your buy cost</span>
<span>$ <input type="number" step="0.25" id="buyInput"/></span>
</div>
<div class="control">
<input type="range" min="0.25" max="25" step="0.25" id="buySlider"/>
</div>
</div>

<!-- PROFIT FLOOR CONTROL -->
<div class="block">
<div class="control-row">
<span>Minimum profit required</span>
<span>$ <input type="number" step="1" id="floorInput"/></span>
</div>
<div class="control">
<input type="range" min="1" max="50" step="1" id="floorSlider"/>
</div>
</div>

</div>
</div>

<script>
/* ====== PERSISTED SETTINGS ====== */
let buyCost = parseFloat(localStorage.getItem('buyCost')||'1')
let profitFloor = parseFloat(localStorage.getItem('profitFloor')||'5')

/* ====== SIMULATED SELL PRICE ====== */
const sellPrice = 19.99  // ← this will come from Keepa logic later

/* ====== ELEMENTS ====== */
const buySlider = document.getElementById('buySlider')
const buyInput  = document.getElementById('buyInput')
const floorSlider = document.getElementById('floorSlider')
const floorInput  = document.getElementById('floorInput')

buySlider.value = buyCost
buyInput.value  = buyCost.toFixed(2)
floorSlider.value = profitFloor
floorInput.value  = profitFloor.toFixed(0)

/* ====== CALCULATION ====== */
function recalc(){
localStorage.setItem('buyCost',buyCost)
localStorage.setItem('profitFloor',profitFloor)

const fees = sellPrice * 0.15 + 4.50
const profit = sellPrice - buyCost - fees
const roi = profit / buyCost * 100

document.getElementById('sellPrice').textContent =
`$${sellPrice.toFixed(2)}`

document.getElementById('profit').textContent =
(profit>=0?'+':'-')+'$'+Math.abs(profit).toFixed(2)

document.getElementById('roi').textContent =
isFinite(roi) ? roi.toFixed(0)+'%' : '--'

const banner = document.getElementById('banner')
const decision = document.getElementById('decision')

if(profit >= profitFloor){
banner.className = 'banner buy'
decision.textContent = 'BUY NOW'
decision.className = 'decision buy'
}
else if(profit >= profitFloor * 0.5){
banner.className = 'banner check'
decision.textContent = 'CHECK SCOUTLY'
decision.className = 'decision check'
}
else{
banner.className = 'banner pass'
decision.textContent = 'SKIP'
decision.className = 'decision pass'
}
}

/* ====== EVENTS ====== */
buySlider.oninput = e=>{
buyCost = parseFloat(e.target.value)
buyInput.value = buyCost.toFixed(2)
recalc()
}
buyInput.onchange = e=>{
buyCost = parseFloat(e.target.value)
buySlider.value = buyCost
recalc()
}
floorSlider.oninput = e=>{
profitFloor = parseFloat(e.target.value)
floorInput.value = profitFloor.toFixed(0)
recalc()
}
floorInput.onchange = e=>{
profitFloor = parseFloat(e.target.value)
floorSlider.value = profitFloor
recalc()
}

recalc()
</script>

</body>
</html>
